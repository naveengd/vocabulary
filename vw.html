<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vocabulary Words</title>
<style>
    body {
        font-family: Arial, sans-serif;
        margin: 0 50px;
        background-color: #ffffff;
        color: #000000;
        padding-top: 60px;
    }
    #filterBar {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        background-color: #ffffff;
        border-bottom: 1px solid #ccc;
        padding: 10px 0;
        text-align: center;
        z-index: 1000;
    }
    #wordCount { margin-right: 15px; }
    .filter-letter {
        display: inline-block;
        margin: 0 5px;
        padding: 5px 10px;
        border: 1px solid #eee;
        border-radius: 4px;
        cursor: pointer;
        color: #000000;
        text-transform: lowercase;
    }
    .filter-letter.active { background-color: gray; color: #fff; }
    #wordList { list-style-type: none; padding: 0 20px; }
    .word-item {
        font-weight: 500;
        font-size: 1.2em;
        margin-top: 20px;
        color: #333333;
        cursor: pointer;
    }
    .example-item {
        margin-left: 20px;
        margin-top: 15px;
        font-size: 1em;
        color: #888888;
        display: none; /* Hidden by default */
    }
    .word-number { font-size: 0.5em; color: gray; margin-left: 8px; }
</style>
</head>
<body>
<div id="filterBar"><span id="wordCount">0</span></div>
<ul id="wordList"></ul>
<script>
const filterBar = document.getElementById('filterBar');
const wordListElement = document.getElementById('wordList');
const wordCountElem = document.getElementById('wordCount');
let allWords = [];

// Create filter letters a-z
for(let i = 97; i <= 122; i++) {
    const letter = String.fromCharCode(i);
    const letterElem = document.createElement('span');
    letterElem.textContent = letter;
    letterElem.classList.add('filter-letter');
    letterElem.addEventListener('click', () => filterWords(letter, letterElem));
    filterBar.appendChild(letterElem);
}

// Fetch words from GitHub
fetch('https://naveengd.github.io/vocabulary/words.txt')
    .then(response => response.text())
    .then(data => {
        const lines = data.split('\n');
        lines.forEach(line => {
            const parts = line.split('.').map(p => p.trim()).filter(p => p !== '');
            if(parts.length === 0) return;
            allWords.push({ word: parts[0], examples: parts.slice(1) });
        });
        displayWords(allWords);
    })
    .catch(err => {
        console.error('Error fetching words:', err);
        wordListElement.innerHTML = '<li>Failed to load words. Please try again later.</li>';
    });

function displayWords(wordsToDisplay) {
    wordListElement.innerHTML = '';
    wordCountElem.textContent = `${wordsToDisplay.length}`;

    wordsToDisplay.forEach((item, index) => {
        // Word item
        const wordItem = document.createElement('li');
        wordItem.classList.add('word-item');
        wordItem.textContent = item.word;

        // Number
        const numberSpan = document.createElement('span');
        numberSpan.textContent = ` ${index + 1}`;
        numberSpan.classList.add('word-number');
        wordItem.appendChild(numberSpan);
        wordListElement.appendChild(wordItem);

        // Examples
        const exampleItems = [];
        item.examples.forEach(example => {
            const exampleItem = document.createElement('li');
            exampleItem.textContent = example;
            exampleItem.classList.add('example-item');
            exampleItem.style.display = 'none'; // Ensure hidden
            wordListElement.appendChild(exampleItem);
            exampleItems.push(exampleItem);
        });

        // Toggle on click
        wordItem.addEventListener('click', () => {
            exampleItems.forEach(ex => {
                ex.style.display = ex.style.display === 'none' ? 'list-item' : 'none';
            });
        });
    });
}

function filterWords(letter, clickedElem) {
    document.querySelectorAll('.filter-letter').forEach(elem => elem.classList.remove('active'));
    clickedElem.classList.add('active');
    const filtered = allWords.filter(item => item.word.toLowerCase().startsWith(letter));
    displayWords(filtered);
    window.scrollTo({ top: 0, behavior: 'smooth' });
}
</script>
</body>
</html>

