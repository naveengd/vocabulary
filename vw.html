
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vocabulary Words</title>
<style>
    body {
        font-family: Arial, sans-serif;
        margin: 0 50px;
        background-color: #ffffff;
        color: #000000;
        padding-top: 60px;
    }
    #filterBar {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        background-color: #ffffff;
        border-bottom: 1px solid #eee;
        padding: 10px 0;
        text-align: center;
        z-index: 1000;
    }
    .filter-letter {
        display: inline-block;
        margin: 0 5px;
        padding: 5px 10px;
        border: 1px solid #eee;
        border-radius: 4px;
        cursor: pointer;
        color: #000000;
        text-transform: lowercase;
    }
    .filter-letter.active { background-color: gray; color: #fff; }
    #toggleExamples {
        padding: 5px 12px;
        border: 1px solid #eee;
        border-radius: 4px;
        cursor: pointer;
        background-color: #f8f8f8;
    }
    #wordList { padding: 0 20px; }
    h2.group-header {
        margin-top: 10px;
        color: #666;
        font-size: 1.3rem;
    }
    .word-item {
        font-weight: 500;
        font-size: 1.2rem;
        margin-top: 25px;
        color: #333333;
        cursor: pointer;
        list-style-type: none;
    }
    .examples-list {
        margin-left: 10px;
        margin-top: 10px;
        display: none;
    }
    .examples-list li {
        font-size: 1.1rem;
        color: #888888;
        margin-top: 15px;
        list-style-type: none;
    }
    .word-number { font-size: 0.5em; color: gray; margin-left: 8px; }
</style>
</head>
<body>
<div id="filterBar">
    <button id="toggleExamples">Show</button>
</div>
<div id="wordList"></div>
<script>
const wordListElement = document.getElementById('wordList');
const toggleBtn = document.getElementById('toggleExamples');

let allWords = [];
let examplesVisible = false; 
let allExampleLists = [];
let wordElements = [];

// Create filter letters a-z
const filterBar = document.getElementById('filterBar');
for (let i = 97; i <= 122; i++) {
    const letter = String.fromCharCode(i);
    const letterElem = document.createElement('span');
    letterElem.textContent = letter;
    letterElem.classList.add('filter-letter');
    letterElem.addEventListener('click', () => filterWords(letter, letterElem));
    filterBar.appendChild(letterElem);
}

// Fetch words from GitHub
fetch('https://naveengd.github.io/vocabulary/words.txt')
    .then(response => response.text())
    .then(data => {
        const lines = data.split('\n');
        lines.forEach(line => {
            const parts = line.split('.').map(p => p.trim()).filter(p => p !== '');
            if (parts.length === 0) return;
            allWords.push({ word: parts[0], examples: parts.slice(1) });
        });
        renderAllWords();
    })
    .catch(err => {
        console.error('Error fetching words:', err);
        wordListElement.innerHTML = '<li>Failed to load words. Please try again later.</li>';
    });

function renderAllWords() {
    wordListElement.innerHTML = '';
    allExampleLists = [];
    wordElements = [];

    const grouped = {};
    allWords.forEach((item, index) => {
        const letter = item.word[0].toLowerCase();
        if (!grouped[letter]) grouped[letter] = [];
        grouped[letter].push({ ...item, index });
    });

    Object.keys(grouped).sort().forEach(letter => {
        const group = grouped[letter];

        const header = document.createElement('h2');
        header.classList.add('group-header');
        header.textContent = `${letter.toUpperCase()} (${group.length})`;
        wordListElement.appendChild(header);

        const ul = document.createElement('ul');
        ul.style.listStyleType = 'none';
        ul.style.paddingLeft = '20px';

        group.forEach((item) => {
            const wordItem = document.createElement('li');
            wordItem.classList.add('word-item');
            wordItem.textContent = item.word;

            const numberSpan = document.createElement('span');
            numberSpan.textContent = ` ${item.index + 1}`;
            numberSpan.classList.add('word-number');
            wordItem.appendChild(numberSpan);

            const exampleList = document.createElement('ul');
            exampleList.classList.add('examples-list');
            exampleList.style.display = examplesVisible ? 'block' : 'none';

            item.examples.forEach(example => {
                const li = document.createElement('li');
                li.textContent = example;
                exampleList.appendChild(li);
            });

            wordItem.appendChild(exampleList);
            ul.appendChild(wordItem);

            wordElements.push({ element: wordItem, word: item.word.toLowerCase(), letter });
            allExampleLists.push(exampleList);

            wordItem.addEventListener('click', () => {
                exampleList.style.display = exampleList.style.display === 'none' ? 'block' : 'none';
            });
        });

        wordListElement.appendChild(ul);
    });

    toggleBtn.textContent = examplesVisible ? 'Hide' : 'Show';
}

// Global toggle for examples
toggleBtn.addEventListener('click', () => {
    examplesVisible = !examplesVisible;
    allExampleLists.forEach(list => {
        list.style.display = examplesVisible ? 'block' : 'none';
    });
    toggleBtn.textContent = examplesVisible ? 'Hide' : 'Show';
});

// Filter by group
function filterWords(letter, clickedElem) {
    document.querySelectorAll('.filter-letter').forEach(elem => elem.classList.remove('active'));
    clickedElem.classList.add('active');

    const groups = wordListElement.querySelectorAll('h2.group-header, ul');
    groups.forEach((el) => {
        if (el.tagName === 'H2') {
            const groupLetter = el.textContent[0].toLowerCase();
            const groupList = el.nextElementSibling;
            const isMatch = groupLetter === letter;

            el.style.display = isMatch ? 'block' : 'none';
            if (groupList) groupList.style.display = isMatch ? 'block' : 'none';
        }
    });

    window.scrollTo(0, 0);

    allExampleLists.forEach(list => {
        list.style.display = examplesVisible ? 'block' : 'none';
    });
}
</script>
</body>
</html>
